#    C语言基础知识复习

## 一、问号表达式

在之前的课程中间我们已经实现过上面的这样一个程序了，在这其中，我们学会了如何使用 if 和 else。然而，针对这种简短的条件语句，在 C 语言中提供了一种更好的表达方式——问号表达式。不同于其它接受一个值的单目运算符（如 ! 等）和只接受两个值的双目运算符（如 +, - 等），问号表达式使用了一个 三目运算符 —— ?:。问号表达式的形式如下：

```c
条件 ？ 条件为真的取值： 条件为假的取值
```

**问号表达式用于赋值时的例子：**

```c
y = (x >= 0 ? 1: -1);
```



## 二、是非之间的逻辑组合

### 1.逻辑与运算符

`&&`

```c
3 > 5 && -1 > 1
```

### 2.逻辑或运算符

`||`

```c
3 > 5 || -1 > 1
```

### 3.逻辑运算符注意点

#### (1)非0和1的数之间的逻辑运算

如果我们在&& 和 ||这两个运算符的两侧给出了任何非 0 和 1 的整数，这一整数都会被理解成 1。也就是说，如果你写出下面的代码：

```c
if (month == 4 || 6 || 9)
```

它的效果将与

```c
if (month == (1 || 1 || 1))
```

相同，实际上就是判断了

```c
if (month == 1)
```

所以，一定要学会正确的使用&& 和 ||这两个运算符。如果想表达 month 这个变量可以是 4 或 6 或 9，我们一定要写成：

```c
if (month == 4 || month == 6 || month == 9)
```

#### (2)逻辑运算符优先级

&&的优先级是高于||的，也就是说

```c
m == 4 || m == 6 || m == 9 && d < 30
```

会被理解为

```c
m == 4 || m == 6 || (m == 9 && d < 30)
```

如果我们希望表示m是4或6或9的前提下，同时d小于30,则需要添加括号改变逻辑组合的顺序：

```c
(m == 4 || m == 6 || m == 9) && d < 30
```

#### (3)异或运算符

在c语言中使用`^`作为异或运算符。



## 三、多路顺序结构

多路判定语句：

```c
switch (a) {
    case 1: [代码块1];
    case 2: [代码块2];
    case 3: [代码块3];
}
```

这里`a`是一个表达式，`switch`(**控制器的意思**)会用这个表达式的值与自上而下的没一个`case`(**情况的意思**)后的值进行比对。如果表达式的值与某个`case`后的值相等，这个`case`之后的所有代码块会依次被执行。

而如果`a`的取值与任何一个`case`中的值都不一样时，一般来讲什么都不会发生，但是我们可以在所有的`case`之后加上`default`(**默认或者缺省的意思**)，来使得当`a`的取值与任何一个`case`中的值都不一样时，默认执行`default`中的语句。

如果我们希望某一个语句块被执行后，不再继续顺序执行下来的语句块，而是跳出`switch`结构，可以在相应的语句块后使用`break`。

如果我们在每个`case`之后的语句块执行后，都加上`break`，`switch`这种顺序结构将在某种程度上扮演分支的作用。

> `switch`是一种特殊的顺序结构，如果我们不使用任何的`break`，程序将会从某一个`case`进入，一直执行到`switch`的尾部。



## 四、程序的缩进

1. `if,else,switch,for,while,do`等关键字后用于组织代码块的大括号内（或这些关键字后单行代码块前） 

2. 定义函数的大括号内 `goto,case,default`等关键字的冒号后组织的一系列语句
3. `struct,enum,union`类型定义时和变量初始化时所用的大括号内 

在遇到上述情况的时候进行缩进。



## 五、空格

从代码风格的角度，程序中有哪些地方必须要使用空格呢？

1. +,-,>,\==,|,&&等前后都需要参加运算的运算符号前后 
2. if,switch,for,while等关键字、函数定义名和之后的左小括号之间 
3. 不在行尾的逗号、分号之后 
4. 不加空格会导致不符合语法的情况下（例如 return 之后）

除了必须空格来保证可读性的地方外，我们还有一些地方是可以选择空格的：

1. 左大括号前、右大括号后 #include和头文件、被引入文件之间 
2. 非运算符冒号之后 

再有一点，就是不要额外的写空格.