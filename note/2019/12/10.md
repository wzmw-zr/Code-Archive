# 2019.12.10

## 一、函数和递归函数

程序调用自身称作递归。

递归程序的组成部分：

(1)**边界条件**处理(**如果边界条件处理出错导致陷入死循环而爆栈，会报"段错误，核心已转储"错误**)

(2)针对于问题的**处理过程**和**递归过程**

(3)**结果返回**



## 二、函数指针

函数指针的格式：

```c
int (*func1)(int);
// 返回值类型 (*函数名)(参数列表参数的类型列表)
```

函数指针一个应用：**用于分段函数**



## 三、函数的传出参数

由于函数作用域的关系，单纯传值进入函数的参数的值尽管在函数里可以改变，但是一旦函数调用结束，该参数就会变成原来的值，所以，要使得传入的参数在函数中被修改后，函数外面的值也改变，**那么可以使用指针类型变量**，==指针类型变量作为传出参数==，在函数内部通过指针对参数值作出的改变可以返回到函数外部。

```c
int func (int *a, char *n, ...);
// *a, *b就是传出参数，实际使用时是变量的地址(也就是指针)，函数通过指针对参数的值进行修改
```



## 四、变参函数

有些函数的传入参数的数量是不固定的，其中一部分采用`...`的形式来表示参数列表。

例如：

```c
int max_int (int a, ...);
```

对于变参函数，需要使用头文件`stdarg.h`。

### 1.`va_list`数据类型——表示参数列表的数据结构

`va_list`数据类型，用来定义表示参数列表的数据结构。

```c
va_list arg; //定义了va_list类型的变量arg, 用来存储参数列表
```



### 2.`va_start(va_list arg, int num)`

`va_start(va_list arg, int num)`获得`num`往后的参数列表的第一参数的值(定位`num`后面的第一个参数的位置)。

> ==`va_start(va_list arg, int num)`是确定从什么地方开始取参数列表的参数==

**`va_start(va_list arg, int num)`**的作用仅仅是确定参数列表的起始位置，并不作取参数的动作。



### 3.`va_arg(va_list arg, datatype)`

`va_arg(va_list arg, datatype)`获取下一个可变参数列表中的参数，每调用一次`va_arg()`，就会取出参数列表中的一个参数作为返回值。

```c
datatype temp = va_arg(va_list arg, datatype);
// va_arg()的第二个数据类型取决于返回值的数据类型
```

> ==`va_arg()`是用来取参数列表中的下一个参数==



### 4.`va_end(va_list arg)`

`va_end(va_list arg)`用来获取可变参数列表的最后一个参数，结束对可变参数列表的获取。



>使用逻辑与或者逻辑或时，前后都需要有一个明确的返回值





## 、数组与预处理命令

### (一)数组声明与初始化

```c
int a[2]; //数组声明
a[0] = 5, a[1] = 8; //初始化数组
int b[2] = {5, 8}; //声明并初始化数组
```



### (二)素数筛

**1.总体思想：**用素数去标记掉不是素数的数字，例如已知i为素数，那么2 * i， 3 * i， 4 * i...就都不是素数。

2.素数筛的空间复杂度是$O(N)$, 时间复杂度为$O(N*\log{\log{N}})$

3.从2开始，进行素数筛，每次遇到一个素数i，就直接从 i * i 开始标记，因为之前的都被更小的素数标记过了。



### (三)折半查找

二分法思想：对顺序排列的数字每次取中间位置的数字，与目标数字比较，若相等，则直接返回，否则根据大小关系选择一边进行下一步查找，若区间左边下标大于右边下标，则停止。

二分查找不仅仅用于单纯的查找类型的题目，在题目的数据是顺序的时候，可以使用二分查找来减少时间复杂度。



### 