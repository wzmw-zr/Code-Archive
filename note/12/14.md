# 2019.12.14

## 一、数组

### 1.数组的声明与初始化

```c
int a[100] =  {1, 2, 3}; // a[0] = 1, a[1] = 2, a[2] = 3
int a[100] = {0}; //数组的所有位置三赋值为0，又称清零操作
类型 名称[元素数量]； //元素数量必须是大于0的表达式
```

数组元素是连续存储的，能够进行随机访问，根据数组的类型划分以及首地址可以进行随机访问。

**数组的元素类型可以任意的对象类型，但是函数类型或者不完整的类型不可以作为数组元素。**

数组本身也是一个对象，其类型由其元素类型延伸而来。更具体地说，**数组的类型由元素的类型和数量所决定。**

> ==一个完整的数组对象类型的描述：16个`int`元素的数组==



**PS:**`sizeof`运算符可以获取的是**对象所占的内存空间的大小**



### 2.固定长度数组

1.**固定长度数组可以具有任意存储类别**：可以将它们定义在所有函数的外面或者语句块的里面，并且可以使用或者不使用存储类修饰符`static`。

2.唯一的限制是数组不能作为函数参数。**一个存入函数的数组参数需要被转化为指向数组的第一个元素的指针**。



### 3.长度可变数组

1.如果一个数组具有动态存储周期(也就是说，如果在语句块内定义数组，并且**没有static修饰符**)，也允许**将非常量表达式作为元素的数量来定义该数组。**这样的数组被称为长度可变的数组。

2.长度可变数组的名称必须是普通的标识符；长度可变数组不能作为结构或者联合的成员。

3.每次实例化时，数组可以具有不同的长度，但是一旦被创建，**即便是长度可变数组，在它的当前存储周期类也不能改变数组长度。**

4.**动态对象被存储在栈中，当程序流离开对象所在的语句块时，动态对象的空间就会被释放**。因此，==只有对小的、临时的数组，定义长度可变数组才比较合理==。**如果想动态地创建大型数组，通常应该使用标准函数`malloc()`和`calloc()`来显示分配内存空间。==**这种数组的存储周期会持续到程序结束，也可调用函数`free()`来主动时行被占用的内存空间。==



### 2.数组名称(数组首地址，也是指针)

```c
scanf("%d", &a[i]);
scanf("%d", a + i);// 这两个语句的功能相同，第二条语句可以根据数组的数据类型进行偏移量的调整
```



### 3.数组的传入

> 传出参数一般用地址

```c
func(int *x);
func(a);// a是数组的首地址
```

> 函数与数组有关系，函数是压缩了的数组，数组是展开了的函数



### 4.多维数组

多维数组就是元素是数组的数组，n为数组的元素是(n-1)维数组。此外，由于**数组的元素类型可以任意的对象类型，但是函数类型或者不完整的类型不可以作为数组元素。**并且完整数组的类型由元素的类型和数量所决定。所以多维数组的元素必须是网站了个的数组类型。

#### (1)多维数组的声明

在数组声明中，如果执行定义操作的话，数组类型可以是不完整的，也就是声明数组，却不指定其长度，这种声明所引用的数组，必须在程序的其他地方指定它的长度。但是由于多为数组的元素必须是完整的数组，所以**多维数组只有第一维度可以不需要指定长度，但是其他维度都必须指定长度。**

```c
float mat[][5];
```



### 5.数组作为函数参数

数组名出现在函数参函数中，编译器会自动将其转换为指向数组第一个元素的指针。所以对应的函数参数也必须是指针，**所指的对象类型必须和数组元素的类型一致。**

#### (1)声明数组参数的方式：

```c
type name[] 或者 type *name
```

#### (2)多维数组作为函数参数

把多维数组作为函数参数时，该函数会收到**一个指向数组类型的指针，该数组类型就是多维数组最外层维度的数组元素的类型，所以必须是一个完整的数据类型。所以==必须在对应的参数声明中指定数组元素的所有维度。==**



**多维数组参数的声明方式：**

```c
void function1(float (*name)[column_num]); //指向行数组的指针
void function2(float name[][column_num]);
void function3(int column_num, float name[][column_num]); //长度可变的多维数组
```

在参数声明`float (*name)[column_num]`时，圆括号不能少，用来声明指针，该指针至吸纳更一个float数组，如果没有圆括号，那么`float *name[column_num]`的意义就变成了`pMat`标识符是一个数组，它的元素属于`float *`类型。



### 6.素数筛



## 二、字符串

字符串是连续的字符序列，最后以空字符`'\0'`，作为终止符。一个字符串的长度指的是不包括终止符的所有字符数量。

### 1.定义字符数组

```c
char str[size]; //定义字符数组
```



### 2.初始化字符数组

```c
char str[] = "hello world"; // 使用字符串字面量来初始化字符类型的数组，存储字符串的数组一定比字符串长度多一个元素以容纳下字符串的终止符，因为字符串底层必须以'\0'为结束符

char str[size] = {'h', 'e', 'l', 'l', 'o'}
```



### 3.字符串相关操作

**头文件：`string.h`**

**1.`strlen(str)`**:计算字符串长度，以`'\0'`作为结束符

**2.`strcmp(str1, str2)`**:字符串比较

```c
strcmp(str1, str2);// 返回str1 和 str2第一个不相同位置处的ASC码的差值，如果相同则返回0， 按照字典序比较
```

**3.`strcpy(dest, src)`**:字符串拷贝

**4.`strncmp(str1, str2, n)`**:安全的字符串比较

**5.`strcpy(str1, str2, n)`**:安全的字符串拷贝

**6.`strcat(str1, str2)`**:将字符串`str2`附加到字符串`str1`后面

**7.`memcpy(str1, str2, n)`**；内存拷贝

**8.`memcmp(str1,str2, n)`**:内存比较

**9.`memset(sr1, c, n)`**:内存设置

==这里的是`str1`,`str2`都是指针，指向各自数组的第一个字符，这样的指针被称为字符串指针。



**头文件：`stdio.h`**

**1.`sscanf(str1, forma, ...)`**:从字符串`str1`读入内容

**2.`sprintf(str1, format, ...)`**:将内容输出到字符串中

```c
memset(str1, c, n); //是将str每个字节初始化为c所对应的值
memset(str, 0, sizeof(str));// 只能全部初始化为0或者-1，而1就不可以
memset(str, -1, sizeof(str));
```



### 3.字符串的输入输出

`sprintf()`是覆盖输出操作。



> 常量地址不可以使用变量指针来接受