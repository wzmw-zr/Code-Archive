# 2020.1.18—数据提取操作

## 一、数据提取操作

| 命令    | 说明                 |
| ------- | -------------------- |
| `cut`   | 切分                 |
| `grep`  | 检索                 |
| `sort`  | 排序                 |
| `wc`    | 统计字符，字数，行数 |
| `uniq`  | 去重                 |
| `tee`   | 双向重导向           |
| `split` | 文件切分             |
| `xargs` | 参数代换             |
| `tr`    | 替换、压缩和删除     |

### 1.`cut`切分

```shell
cut [-dfc] <file>
# -d c: 以c字符切分
# -f num: 显示num字段的内容[n-;n-m;-m]
# -b num: 取第num个字节(按字节切分与下面的按字符切分相似)
# -c num: 取第num个字符
# -c -num: 取1-num个字符
# -c num-: 取num到最后的字符
```

> 使用cut必须要求文件内容是统一、格式的，必须是有着明确的分隔符

### 2.`tr`对标准输入的字符替换、压缩，删除

```shell
tr [cdst] <字符集> <字符集>
#c :取代所有不属于第一字符集的字符(替换)
#d :删除所有属于第一字符集的字符(删除)
#s :将连续重复的字符以单独一个字符表示(去重)
#t :先删除第一字符集较第二字符集多出的字符
```

### 3.`grep`检索

```shell
grep [-acinv] <string> <file>
# -a: 将二进制文件以普通文件的形式搜寻数据
# -c: 统计搜搜寻到的次数
# -i: 忽略大小写
# -n: 顺序输出行号
# -v: 反向输出(输出没找到的文件与行)
```

> ```shell
> grep -v "^$"
> #输出不是空行的行
> ```

### 4.`sort`排序

```shell
sort [-fbMnrtuk] <file_Or_dir>
# sort 默认是以第一个字符进行排序
#-f: 忽略大小写
#-b: 忽略最前面的空格符
#-M: 一月份名称排序
#-n: 以纯数字方式排序
#-r: 反向排序
#-u: 去重(unique)
#-t: 分隔符，默认[TAB]
#-k: 以那个区间排序
```

### 5.`wc`统计字符

```shell
wc [-lwm] <file_or_dir>
#-l: 仅列出行号
#-w: 仅列出多少字
#-m: 仅列出多少字符
```

### 6.`uniq`去重

```shell
uniq [-ic]
#-i: 忽略大小写
#-c: 进行计数
```

### 7.`tee`双向重导向

```shell
ls | tee > /dev/null
# 一般而言，ls > /dev/null是不会将重定向的内容输出在屏幕上的，但是，使用双向重导向tee就可以，一般用于安装软件时的终端显示上。
```

### 8.`split`文件切分

```shell
split [-bl] <file> PREFIX
#-b SIZE: 切分为SIZE大小的文件
#-l num: 以num行为大小切分
#PREFIX：前缀，在切分结束之后作为文件名的前缀部分
```

> `split`多数情况下是用来进行分布式数据处理i使用，或者大数据进行读入。

### 9.`xargs`参数代换

```shell
xargs [-0pne] <command>
# xargs的功能是将上一个命令的标准输出作为下一个命令的参数
# 因为一般而言，比方说cat命令，上一个命令输出的是一个路径的字符串，但是cat命令不是把这个当作参数，而是当作标准输入，这样输出的就仅仅是那个路径ui而不是文件的内容

#-0: 将特殊字符还原为普通字符
#-eEOF：当xargs读到EOF时停止(-esunc同理)，就是说-e后面紧接着的就是停止的符号
#-p: 执行指令钱询问
#-n num: 每次执行command时需要的参数个数
```

> `ls`命令是不会接受上一个命令的标准输出作为标准输入的。

> 数据处理就是想办法将数据转换成特定的格式，使得我们能够快速定位到它。